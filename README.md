[![Docker](https://img.shields.io/badge/Docker-Ready-blue.svg)](https://www.docker.com/)
[![Python](https://img.shields.io/badge/Python-3.11%2B-green.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-Educational-yellow.svg)](#license)

# Курсовая работа: Защита от side-channel атак в виртуализированных и контейнеризованных средах

> Практическая демонстрация Prime+Probe side-channel атаки между Docker-контейнерами через общий кэш процессора

## 📋 Описание

Это полная реализация курсовой работы по информационной безопасности, демонстрирующая уязвимость контейнеризованных сред к микроархитектурным атакам. Проект включает:

- ✅ Рабочий Docker-стенд с двумя контейнерами (victim/attacker)
- ✅ Реализацию Prime+Probe атаки на кэш
- ✅ Реальные данные эксперимента (600 раундов измерений)
- ✅ Анализ и визуализацию результатов
- ✅ Полную документацию (DOCX, 763 параграфа)

## 🎯 Ключевые результаты

```
✓ Среднее время доступа:         77.86 нс
✓ Стандартное отклонение:        32.48 нс
✓ Обнаружено аномалий:           18.7% раундов
✓ Side-channel канал:            ПОДТВЕРЖДЁН
```

## 🚀 Быстрый старт

```bash
# Клонировать репозиторий
git clone <repo-url>
cd CourseWork

# Запустить эксперимент
docker-compose up --build

# Дождаться завершения (~60 сек), остановить
docker-compose down

# Проанализировать результаты
pip install pandas matplotlib numpy
python analyze_results.py
```

## 📁 Структура проекта

```
.
├── docker-compose.yml              # Конфигурация стенда
├── victim/
│   ├── Dockerfile
│   └── victim.py                   # Программа-жертва (128 КБ массив)
├── attacker/
│   ├── Dockerfile
│   └── attacker.py                 # Prime+Probe атака
├── logs/                           # Логи и данные измерений
│   └── attacker_measurements.csv   # 600 раундов, 37 КБ
├── figures/                        # Графики результатов
│   ├── prime_probe_timing.png      # Временной ряд
│   ├── timing_distribution.png     # Гистограммы
│   ├── suspicious_activity.png     # Детекция активности
│   └── combined_analysis.png       # Комбинированный анализ
└── analyze_results.py              # Анализ и визуализация
```

## 🔬 Как это работает

### Victim Container
Имитирует обработку конфиденциальных данных:
- Создаёт массив 131072 байта (128 КБ)
- Выполняет обращения к памяти с паттерном, зависящим от "секрета"
- Оставляет характерные следы в кэше процессора

### Attacker Container
Реализует Prime+Probe атаку:
1. **Prime:** Заполняет кэш своими данными (256 sets × 4096 байт)
2. **Wait:** Даёт время victim выполнить операции (1 мс)
3. **Probe:** Измеряет время доступа с наносекундной точностью

Если victim обращался к похожим адресам → данные attacker вытесняются из кэша → время доступа увеличивается с ~70 нс до нескольких сотен нс.

## 📊 Графики и визуализация

| График | Описание | Файл |
|--------|----------|------|
| **Временной ряд** | Изменение времени доступа по раундам | `prime_probe_timing.png` |
| **Распределения** | Гистограммы среднего и максимального времени | `timing_distribution.png` |
| **Детекция активности** | Подозрительные cache sets | `suspicious_activity.png` |
| **Комбинированный** | Все метрики на одном графике | `combined_analysis.png` |


## 🛠️ Технические детали

**Параметры эксперимента:**
- Victim массив: 131072 байт (128 КБ), stride 4096 байт
- Attacker массив: 1048576 байт (1 МБ), 256 sets
- Раундов измерений: 600 (~30 секунд)
- Точность: наносекунды (`time.perf_counter_ns()`)

**Окружение:**
- Docker 28.4.0, Docker Compose 2.39
- Python 3.11+
- Библиотеки: pandas, matplotlib, numpy

**Архитектура стенда:**

```
┌─────────────────────────────────────────────────────┐
│                   Docker Host                       │
│                                                     │
│  ┌──────────────────┐       ┌───────────────────┐   │
│  │  Victim Container│       │ Attacker Container│   │
│  │                  │       │                   │   │
│  │  victim.py       │       │  attacker.py      │   │
│  │  (secret data    │       │  (Prime+Probe)    │   │
│  │   processing)    │       │                   │   │
│  └────────┬─────────┘       └────────┬──────────┘   │
│           │                          │              │
│           │    Shared CPU Cache      │              │
│           └──────────┬───────────────┘              │
│                      │                              │
│                   [Cache]                           │
│                L2/L3 Cache                          │
│                                                     │
│           ./logs volume (shared)                    │
│  ┌──────────────────────────────────────────────┐   │
│  │  victim_activity.log                         │   │
│  │  attacker_activity.log                       │   │
│  │  attacker_measurements.csv                   │   │
│  └──────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────┘
```

## ⚠️ Disclaimer

**ВАЖНО:** Этот проект создан исключительно в образовательных целях для демонстрации уязвимостей side-channel в контейнеризованных средах.

❌ **НЕ ИСПОЛЬЗУЙТЕ** для атак на реальные системы без явного разрешения
✅ **ИСПОЛЬЗУЙТЕ** для обучения, исследований, CTF, тестирования защиты

## 📚 Научная база

Проект основан на исследованиях:
- Prime+Probe атаки (Yarom & Falkner, 2014)
- Cache side-channels (Liu et al., 2015)
- Container security (Felter et al., 2015)

## 📄 Лицензия

Проект распространяется в образовательных целях. При использовании материалов ссылка на автора обязательна.
